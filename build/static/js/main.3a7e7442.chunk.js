(this["webpackJsonpreact-scenario-creating"]=this["webpackJsonpreact-scenario-creating"]||[]).push([[0],{226:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(28),s=a.n(r),i=(a(94),a(4)),l=a(89),o=a(88),u=a(30),h=a(3),b=a(13),j=a(14),p=a(16),m=a(15),d=a(1),O=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(d.jsx)("footer",{className:"container-lg bg-dark footer text-light",children:Object(d.jsx)("span",{children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0432 \u0444\u0443\u0442\u0435\u0440\u0435"})})}}]),a}(n.a.Component),f=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(d.jsx)("nav",{className:"navbar bg-dark header",children:Object(d.jsxs)("ul",{className:"navbar-nav d-flex flex-row",children:[Object(d.jsx)("li",{className:"nav-item mr-4",children:Object(d.jsx)(u.b,{className:"nav-link text-light",exact:!0,to:"/",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u044f"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(u.b,{className:"nav-link text-light",to:"/scenario",children:"\u0413\u043e\u0442\u043e\u0432\u044b\u0439 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439"})})]})})}}]),a}(n.a.Component),x=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(b.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).changeActsCount=function(t){t.target.value>0&&(e.props.updateActsCount(t.target.value),localStorage.setItem("acts",t.target.value))},e.changeScenesCount=function(t){t.target.value>0&&(e.props.updateScenesCount(t.target.value),localStorage.setItem("scenes",t.target.value))},e.addCharacter=function(t){e.props.updateCharacter(t.target)},e.handleSubmit=function(t){t.preventDefault(),e.props.updateCharacters()},e}return Object(j.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"container-lg d-flex flex-column bg-light",children:[Object(d.jsx)("h5",{className:"align-self-center text-center",children:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u044c\u0435\u0441\u044b"}),Object(d.jsxs)("div",{className:"input-group input-group-sm mb-1 align-self-center col-sm-5",children:[Object(d.jsx)("input",{className:"form-control",type:"number",value:this.props.actsCount,onChange:this.changeActsCount}),Object(d.jsx)("span",{className:"mr-1",children:"\u0430\u043a\u0442\u0430(\u043e\u0432)"}),Object(d.jsx)("input",{className:"form-control",type:"number",value:this.props.scenesCount,onChange:this.changeScenesCount}),Object(d.jsx)("span",{className:"",children:"\u0441\u0446\u0435\u043d(\u044b)"})]}),Object(d.jsxs)("form",{className:"d-flex justify-content-between align-items-center",onSubmit:this.handleSubmit,children:[Object(d.jsxs)("div",{className:"input-group input-group-sm col-sm-3",children:[Object(d.jsx)("label",{className:"mr-1",htmlFor:"character",children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436"}),Object(d.jsx)("input",{className:"form-control",type:"text",name:"name",id:"character",value:this.props.character.name,onChange:this.addCharacter})]}),Object(d.jsxs)("div",{className:"input-group input-group-sm col-sm-6",children:[Object(d.jsx)("label",{className:"mr-1",htmlFor:"characteristic",children:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430"}),Object(d.jsx)("input",{className:"form-control",type:"text",name:"description",id:"characteristic",value:this.props.character.description,onChange:this.addCharacter})]}),Object(d.jsx)("button",{className:"btn btn-dark btn-sm",type:"submit",disabled:!this.props.character.name,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430"})]})]})}}]),a}(n.a.Component),g=a(21),v=a.n(g),C=a(42),N=a(31),S=a(43),y=a.n(S),k=a(45),w=function(e){var t=e.actsCount,a=e.scenesCount,n=e.characters,r=Object(c.useState)({act:1,scene:1,character:"",text:""}),s=Object(N.a)(r,2),l=s[0],o=s[1],u=Object(c.useState)(!1),h=Object(N.a)(u,2),b=h[0],j=h[1],p=function(){var e=Object(C.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify(l),e.prev=1,e.next=4,y.a.post("https://create-scenario-default-rtdb.firebaseio.com/play.json",t);case 4:console.log("\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u044b"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){l.text.trim()?j(!0):j(!1)}),[l.text]);return Object(d.jsxs)("aside",{className:"col-sm-8 mt-3 bg-light",children:[Object(d.jsx)("h5",{className:"text-center",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0440\u0435\u043f\u043b\u0438\u043a"}),Object(d.jsxs)("form",{className:"d-flex flex-column",onSubmit:function(e){e.preventDefault(),console.log({currentReplica:l}),o(Object(i.a)(Object(i.a)({},l),{},{text:""})),p()},children:[Object(d.jsx)("label",{className:"align-self-center mb-0",htmlFor:"act",children:"\u0410\u043a\u0442"}),Object(d.jsx)(k.a,{name:"act",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u043a\u0442",onChange:function(e){return o(Object(i.a)(Object(i.a)({},l),{},{act:e.value}))},options:new Array(t).fill("1").map((function(e,t){return{value:t+1,label:t+1}}))}),Object(d.jsx)("label",{className:"align-self-center mb-0",htmlFor:"scene",children:"\u0421\u0446\u0435\u043d\u0430"}),Object(d.jsx)(k.a,{name:"scene",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0446\u0435\u043d\u0443",onChange:function(e){return o(Object(i.a)(Object(i.a)({},l),{},{scene:e.value}))},options:new Array(a).fill("1").map((function(e,t){return{value:t+1,label:t+1}}))}),Object(d.jsx)("label",{className:"align-self-center mb-0",htmlFor:"character",children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436"}),Object(d.jsx)(k.a,{name:"character",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430",onChange:function(e){return o(Object(i.a)(Object(i.a)({},l),{},{character:e.value}))},options:n.map((function(e){return{value:e.name,label:e.name}}))}),Object(d.jsx)("label",{className:"align-self-center mb-0",htmlFor:"text",children:"\u0420\u0435\u043f\u043b\u0438\u043a\u0430"}),Object(d.jsx)("textarea",{className:"form-control",name:"replica",id:"text",cols:"30",rows:"10",onChange:function(e){return o(Object(i.a)(Object(i.a)({},l),{},{text:e.target.value}))},value:l.text}),Object(d.jsx)("button",{disabled:!b,className:"btn btn-sm btn-dark",type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u043f\u043b\u0438\u043a\u0443"})]})]})},I=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("aside",{className:"col-sm-4 mt-3 bg-light",children:[Object(d.jsx)("h5",{className:"text-center",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u043b\u0438\u0446\u0430"}),Object(d.jsx)("div",{className:"characters",children:this.props.characters.map((function(e,t){return Object(d.jsxs)("p",{children:[e.name,": ",e.description]},t)}))}),Object(d.jsx)("button",{className:"btn btn-sm btn-dark",type:"button",onClick:this.props.deleteCharacters,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0435\u0439"})]})}}]),a}(n.a.Component),A=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var c;return Object(b.a)(this,a),(c=t.call(this,e)).updateActsCount=function(e){c.setState({acts:e})},c.updateScenesCount=function(e){c.setState({scenes:e})},c.updateCharacter=function(e){var t=Object.assign({},c.state.character),a=e.name,n=e.value;return t[a]=n,c.setState({character:t})},c.updateCharacters=function(){c.setState((function(e){var t=e.characters.concat(c.state.character);return localStorage.setItem("characters",JSON.stringify(t)),{character:{name:"",description:""},characters:t}}))},c.deleteCharacters=function(){localStorage.removeItem("acts"),c.setState({characters:[]})},c.state={acts:JSON.parse(localStorage.getItem("acts"))||1,scenes:JSON.parse(localStorage.getItem("scenes"))||1,character:{name:"",description:""},characters:JSON.parse(localStorage.getItem("characters"))||[]},c}return Object(j.a)(a,[{key:"render",value:function(){return Object(d.jsxs)(c.Fragment,{children:[Object(d.jsx)(x,{actsCount:this.state.acts,scenesCount:this.state.scenes,character:this.state.character,updateActsCount:this.updateActsCount,updateScenesCount:this.updateScenesCount,updateCharacter:this.updateCharacter,updateCharacters:this.updateCharacters}),Object(d.jsxs)("div",{className:"d-flex main",children:[Object(d.jsx)(w,{actsCount:this.state.acts,scenesCount:this.state.scenes,characters:this.state.characters}),Object(d.jsx)(I,{characters:this.state.characters,deleteCharacters:this.deleteCharacters})]})]})}}]),a}(n.a.Component),F=function(){var e=Object(c.useState)([]),t=Object(N.a)(e,2),a=t[0],n=t[1],r=function(){var e=Object(C.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://create-scenario-default-rtdb.firebaseio.com/play.json");case 2:t=e.sent,a=Object.keys(t.data).map((function(e){return Object(i.a)(Object(i.a)({},t.data[e]),{},{id:e})})),n(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){r()}),[]),Object(d.jsx)("ul",{children:a.map((function(e){return Object(d.jsxs)("li",{children:[e.act,e.scene,e.character,e.text]},e.id)}))})},J={apiKey:"AIzaSyAR2ffTCaUtpX2Rh1T_ShOlPeFvoUHLwnA",authDomain:"create-scenario.firebaseapp.com",databaseURL:"https://create-scenario-default-rtdb.firebaseio.com",projectId:"create-scenario",storageBucket:"create-scenario.appspot.com",messagingSenderId:"321267991202",appId:"1:321267991202:web:bbc8054643296b97d0cdfb",measurementId:"G-5K9CBWKMZ2"};var R=function(){return Object(d.jsx)(l.a,Object(i.a)(Object(i.a)({},J),{},{firebase:o.a,children:Object(d.jsxs)(u.a,{children:[Object(d.jsx)(f,{}),Object(d.jsx)("div",{className:"container-lg",children:Object(d.jsxs)(h.c,{children:[Object(d.jsx)(h.a,{path:"/",exact:!0,component:A}),Object(d.jsx)(h.a,{path:"/scenario",component:F})]})}),Object(d.jsx)(O,{})]})}))};s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(R,{})}),document.getElementById("root"))},94:function(e,t,a){}},[[226,1,2]]]);
//# sourceMappingURL=main.3a7e7442.chunk.js.map